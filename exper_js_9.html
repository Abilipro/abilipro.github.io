<!doctype html>
<html>
  <head>
      <script src="https://cdn.jsdelivr.net/pyodide/v0.26.1/full/pyodide.js"></script>
  </head>
  <body>
    Pyodide test page <br>
    My output is: <pre id="output"></pre> <br>
    Open your browser console to see Pyodide output
    
    <script type="text/javascript">
      async function main(){
        let pyodide = await loadPyodide();
        console.log(pyodide.runPython(`
            import sys
            sys.version
        `));
        pyodide.runPython("print(4 + 5)");
        await pyodide.loadPackage("micropip");
        const micropip = pyodide.pyimport("micropip");
        await micropip.install('snowballstemmer');
        console.log(12345);
        pyodide.runPython(`
            import snowballstemmer
            stemmer = snowballstemmer.stemmer('english')
            print(stemmer.stemWords('go goes going gone'.split()))
        `);
        await micropip.install('z3-solver')
        console.log(54321)
        pyodide.runPython(`
            from z3 import *

            # Create a Z3 string variable
            hello = String('hello')

            # Create a solver instance
            solver = Solver()

            # Add a constraint that the variable 'hello' must be equal to "Hello, World!"
            solver.add(hello == StringVal("Hello, World!"))

            # Check if the constraint is satisfiable
            if solver.check() == sat:
                    # Get the model
                    model = solver.model()
                    # Print the value of 'hello' from the model
                    print(model[hello])
            else:
                    print("Unsatisfiable")
        `);
        console.log(6)
      }
      main();

    </script>
  </body>
</html>
